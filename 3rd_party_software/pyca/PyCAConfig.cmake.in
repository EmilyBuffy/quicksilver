# extra cmake functions
include(@PyCA_EXTRA_FUNCTIONS@)

set(PyCA_LIB_DIR @PyCA_BINARY_DIR@/bin)
find_library(PyCA_LIB PyCA ${PyCA_LIB_DIR})
set(PyCA_MODULE_DIR @PyCA_BINARY_DIR@/python_module)
set(PyCA_SWIG_DOCSTRING_DIR @SWIG_DOCSTRING_DIR@)

set(PyCA_BUILD_SHARED_LIBS @BUILD_SHARED_LIBS@)
set(PyCA_WRAP_PYTHON @WRAP_PYTHON@)
set(PyCA_SWIG_USE_FILE @SWIG_USE_FILE@)

set(PyCA_PYTHON_EXECUTABLE @PYTHON_EXECUTABLE@)
set(PyCA_PYTHON_INCLUDE_PATH @PYTHON_INCLUDE_PATH@)
set(PyCA_PYTHON_LIBRARIES @PYTHON_LIBRARIES@)
set(PyCA_PYTHON_INSTALL_DIR @PYTHON_INSTALL_DIR@)
set(PyCA_CUDA_ENABLED @CUDA_ENABLED@)
if(PyCA_CUDA_ENABLED)
  ADD_DEFINITIONS(-DCUDA_ENABLED)
endif(PyCA_CUDA_ENABLED)
    
set(PyCA_CUDA_ARCH_VERSION @CUDA_ARCH_VERSION@)

set(ENABLE_ITK @ENABLE_ITK@)
if(ENABLE_ITK)
  ADD_DEFINITIONS(-DENABLE_ITK)
endif(ENABLE_ITK)

set(PyCA_INCLUDE_DIRECTORIES @PyCA_INCLUDE_DIRECTORIES@)

# function to set appropriate definitions on .i file that %import's
# Core.i.  MODFILE is the filename of the module's .i file.
function(SETUP_PyCA_SWIG_DEFS MODFILE)
IF(ENABLE_ITK)
  # add in ENABLE_ITK preprocessor definition
  ADD_TO_SOURCE_FILE_PROPERTY(${MODFILE} SWIG_FLAGS "-DENABLE_ITK")
ENDIF(ENABLE_ITK)

IF(CUDA_ENABLED)
  # add in CUDA_ENABLED preprocessor definition
  ADD_TO_SOURCE_FILE_PROPERTY(${MODFILE} SWIG_FLAGS "-DCUDA_ENABLED")
ENDIF(CUDA_ENABLED)
endfunction(SETUP_PyCA_SWIG_DEFS)
